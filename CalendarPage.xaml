<?xml version="1.0" encoding="utf-8" ?>
<ContentPage
    xmlns="http://schemas.microsoft.com/dotnet/2021/maui"
    xmlns:x="http://schemas.microsoft.com/winfx/2009/xaml"
    xmlns:vm="clr-namespace:WeatherApp.ViewModels"
    x:Class="WeatherApp.CalendarPage"
    Title="ðŸ“† ÐšÐ°Ð»ÐµÐ½Ð´Ð°Ñ€ÑŒ Ð·Ð°Ð¼ÐµÑ‚Ð¾Ðº">

    <ContentPage.BindingContext>
        <vm:NotesViewModel />
    </ContentPage.BindingContext>

    <VerticalStackLayout Padding="20" Spacing="15">

        <Frame Margin="0" CornerRadius="12" HasShadow="True" BackgroundColor="#F0F4F8">
            <DatePicker
        Date="{Binding SelectedDate}"
        HorizontalOptions="Center"
        Format="dddd, dd MMM yyyy"
        TextColor="#333"
        FontSize="18"/>
        </Frame>

        <Label
      Text="Ð—Ð°Ð¼ÐµÑ‚ÐºÐ¸ Ð½Ð° Ð²Ñ‹Ð±Ñ€Ð°Ð½Ð½ÑƒÑŽ Ð´Ð°Ñ‚Ñƒ"
      FontAttributes="Bold"
      FontSize="16"
      TextColor="#555"/>

        <CollectionView
      ItemsSource="{Binding Notes}"
      EmptyView="ÐÐµÑ‚ Ð·Ð°Ð¼ÐµÑ‚Ð¾Ðº Ð½Ð° ÑÑ‚Ñƒ Ð´Ð°Ñ‚Ñƒ"
      SelectionMode="None">

            <CollectionView.ItemTemplate>
                <DataTemplate>
                    <Frame
            Padding="12"
            Margin="0,5"
            BackgroundColor="White"
            CornerRadius="8"
            HasShadow="True">
                        <VerticalStackLayout>
                            <Label Text="{Binding Title}" FontAttributes="Bold" FontSize="16" TextColor="#222" />
                            <Label Text="{Binding NoteText}" FontSize="14" LineBreakMode="WordWrap" TextColor="#444"/>
                            <Label
                Text="{Binding WeatherCondition, StringFormat='ÐŸÐ¾Ð³Ð¾Ð´Ð°: {0}'}"
                FontSize="12"
                TextColor="#888"
                Margin="0,8,0,0"/>
                        </VerticalStackLayout>
                    </Frame>
                    
                </DataTemplate>
            </CollectionView.ItemTemplate>

        </CollectionView>     

        <Button
      Text="âž• Ð”Ð¾Ð±Ð°Ð²Ð¸Ñ‚ÑŒ Ð·Ð°Ð¼ÐµÑ‚ÐºÑƒ"
      SemanticProperties.Hint="Ð”Ð¾Ð±Ð°Ð²Ð¸Ñ‚ÑŒ Ð½Ð¾Ð²ÑƒÑŽ Ð·Ð°Ð¼ÐµÑ‚ÐºÑƒ Ð´Ð»Ñ Ð²Ñ‹Ð±Ñ€Ð°Ð½Ð½Ð¾Ð¹ Ð´Ð°Ñ‚Ñ‹"
      CornerRadius="24"
      BackgroundColor="#007AFF"
      TextColor="White"
      FontSize="16"
      HeightRequest="48"
      Command="{Binding AddNoteCommand}" />
    </VerticalStackLayout>

</ContentPage>
